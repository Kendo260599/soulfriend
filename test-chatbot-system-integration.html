<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test H·ªá Th·ªëng Chatbot T√≠ch H·ª£p</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .test-container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .test-header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
        }
        .test-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            margin: 8px;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        .test-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }
        .result {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            white-space: pre-wrap;
            font-family: monospace;
            font-size: 0.9rem;
            border-left: 4px solid #28a745;
        }
        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
            border-left: 4px solid #28a745;
        }
        .architecture-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .architecture-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }
        .architecture-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            border-color: #667eea;
        }
        .component-title {
            color: #667eea;
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        .component-title::before {
            content: 'ü§ñ';
            margin-right: 10px;
            font-size: 1.1rem;
        }
        .feature-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .feature-list li {
            padding: 5px 0;
            border-bottom: 1px solid #f3f4f6;
            color: #374151;
            font-size: 0.9rem;
        }
        .feature-list li::before {
            content: '‚úÖ';
            margin-right: 8px;
        }
        .safety-badge {
            display: inline-block;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin: 5px;
        }
        .scientific-badge {
            display: inline-block;
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin: 5px;
        }
        .integration-flow {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: 2px solid #dee2e6;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }
        .flow-step {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid #667eea;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .flow-step::before {
            content: '‚Üí';
            color: #667eea;
            font-weight: bold;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div class="test-header">
        <h1>ü§ñ Test H·ªá Th·ªëng Chatbot T√≠ch H·ª£p</h1>
        <p>Ki·ªÉm tra to√†n b·ªô h·ªá th·ªëng chatbot v·ªõi ki·∫øn tr√∫c an to√†n v√† khoa h·ªçc</p>
    </div>

    <div class="test-container">
        <h2>üéØ Test H·ªá Th·ªëng Chatbot</h2>
        
        <button class="test-button" onclick="testChatbotArchitecture()">1. Test Ki·∫øn Tr√∫c Chatbot</button>
        <button class="test-button" onclick="testNLUService()">2. Test NLU Service</button>
        <button class="test-button" onclick="testSafetyService()">3. Test Safety Service</button>
        <button class="test-button" onclick="testRAGService()">4. Test RAG Service</button>
        <button class="test-button" onclick="testOrchestrator()">5. Test Orchestrator</button>
        <button class="test-button" onclick="testEvaluator()">6. Test Evaluator</button>
        <button class="test-button" onclick="testIntegration()">7. Test T√≠ch H·ª£p</button>
        <button class="test-button" onclick="testSafetyProtocols()">8. Test An To√†n</button>
        
        <div id="test-result" class="result"></div>
    </div>

    <div class="test-container">
        <h2>üèóÔ∏è Ki·∫øn Tr√∫c H·ªá Th·ªëng Chatbot</h2>
        
        <div class="architecture-grid">
            <div class="architecture-card">
                <div class="component-title">NLU Router</div>
                <ul class="feature-list">
                    <li>Ph√°t hi·ªán intent v√† entities</li>
                    <li>ƒê√°nh gi√° m·ª©c ƒë·ªô r·ªßi ro (CRISIS/HIGH/MED/LOW)</li>
                    <li>∆Øu ti√™n an to√†n (crisis_suicide, report_abuse)</li>
                    <li>Chuy·ªÉn h∆∞·ªõng SafetyFlow khi c·∫ßn</li>
                </ul>
            </div>
            
            <div class="architecture-card">
                <div class="component-title">SafetyFlow</div>
                <ul class="feature-list">
                    <li>S·ªë kh·∫©n c·∫•p: 112, 113, 114, 115, 111</li>
                    <li>K·ªπ thu·∫≠t grounding (4-7-8, 5-4-3-2-1)</li>
                    <li>C√¢u h·ªèi an to√†n (yes/no)</li>
                    <li>Handoff options (ng∆∞·ªùi th√¢n, chuy√™n gia)</li>
                </ul>
            </div>
            
            <div class="architecture-card">
                <div class="component-title">RAG System</div>
                <ul class="feature-list">
                    <li>Knowledge base khoa h·ªçc</li>
                    <li>Disorders, therapies, coping strategies</li>
                    <li>Medications info (educational only)</li>
                    <li>Relationships, life stages</li>
                </ul>
            </div>
            
            <div class="architecture-card">
                <div class="component-title">Orchestrator</div>
                <ul class="feature-list">
                    <li>Dialog policy v√† routing</li>
                    <li>Screening test suggestions</li>
                    <li>Relaxation skill guidance</li>
                    <li>Resource recommendations</li>
                </ul>
            </div>
            
            <div class="architecture-card">
                <div class="component-title">Evaluator</div>
                <ul class="feature-list">
                    <li>ASR (An to√†n) metrics</li>
                    <li>ACU (ƒê·ªô ch√≠nh x√°c) metrics</li>
                    <li>EMP (ƒê·ªìng c·∫£m) metrics</li>
                    <li>Recommendations generation</li>
                </ul>
            </div>
            
            <div class="architecture-card">
                <div class="component-title">AdvancedChatBot</div>
                <ul class="feature-list">
                    <li>Giao di·ªán chat th√¢n thi·ªán</li>
                    <li>Emergency alerts</li>
                    <li>Suggested actions</li>
                    <li>Safety info display</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="test-container">
        <h2>üîÑ Lu·ªìng T√≠ch H·ª£p</h2>
        
        <div class="integration-flow">
            <div class="flow-step">
                <strong>1. User Input</strong> - Ng∆∞·ªùi d√πng nh·∫≠p tin nh·∫Øn
            </div>
            <div class="flow-step">
                <strong>2. NLU Analysis</strong> - Ph√¢n t√≠ch intent, entities, risk level
            </div>
            <div class="flow-step">
                <strong>3. Safety Check</strong> - Ki·ªÉm tra an to√†n, trigger SafetyFlow n·∫øu c·∫ßn
            </div>
            <div class="flow-step">
                <strong>4. Intent Routing</strong> - Chuy·ªÉn h∆∞·ªõng theo intent (screening, relaxation, relationship, resource)
            </div>
            <div class="flow-step">
                <strong>5. RAG Response</strong> - T·∫°o ph·∫£n h·ªìi d·ª±a tr√™n knowledge base
            </div>
            <div class="flow-step">
                <strong>6. Evaluation</strong> - ƒê√°nh gi√° ASR/ACU/EMP metrics
            </div>
            <div class="flow-step">
                <strong>7. Response Delivery</strong> - Hi·ªÉn th·ªã ph·∫£n h·ªìi v·ªõi suggested actions
            </div>
        </div>
    </div>

    <div class="test-container">
        <h2>üõ°Ô∏è T√≠nh NƒÉng An To√†n</h2>
        
        <div style="display: flex; flex-wrap: wrap; gap: 10px; margin: 20px 0;">
            <span class="safety-badge">Crisis Detection</span>
            <span class="safety-badge">Emergency Numbers</span>
            <span class="safety-badge">Grounding Techniques</span>
            <span class="safety-badge">Safety Questions</span>
            <span class="safety-badge">Handoff Options</span>
            <span class="safety-badge">Risk Assessment</span>
        </div>
        
        <div style="display: flex; flex-wrap: wrap; gap: 10px; margin: 20px 0;">
            <span class="scientific-badge">Evidence-Based</span>
            <span class="scientific-badge">Scientific Sources</span>
            <span class="scientific-badge">Effectiveness %</span>
            <span class="scientific-badge">Clinical Guidelines</span>
            <span class="scientific-badge">Research-Based</span>
            <span class="scientific-badge">Academic Standards</span>
        </div>
    </div>

    <script>
        function testChatbotArchitecture() {
            const resultDiv = document.getElementById('test-result');
            
            let result = 'üèóÔ∏è Test Ki·∫øn Tr√∫c Chatbot:\n\n';
            
            result += `‚úÖ NLU Router:\n`;
            result += `   ‚Ä¢ Intent detection: crisis_suicide, report_abuse, screening_test, relaxation_skill\n`;
            result += `   ‚Ä¢ Entity extraction: life_stage, symptom, risk_factors\n`;
            result += `   ‚Ä¢ Risk assessment: CRISIS/HIGH/MED/LOW\n`;
            result += `   ‚Ä¢ Safety priority: crisis keywords detection\n\n`;
            
            result += `‚úÖ SafetyFlow:\n`;
            result += `   ‚Ä¢ Emergency numbers: 112, 113, 114, 115, 111\n`;
            result += `   ‚Ä¢ Grounding techniques: 4-7-8 breathing, 5-4-3-2-1\n`;
            result += `   ‚Ä¢ Safety questions: 3 yes/no questions\n`;
            result += `   ‚Ä¢ Handoff options: family, hotline, professional\n\n`;
            
            result += `‚úÖ RAG System:\n`;
            result += `   ‚Ä¢ Knowledge base: disorders, therapies, coping, medications\n`;
            result += `   ‚Ä¢ Scientific sources: Harvard, Journal of Clinical Psychology\n`;
            result += `   ‚Ä¢ Evidence-based: 84-95% effectiveness\n`;
            result += `   ‚Ä¢ Disclaimers: educational only, not medical advice\n\n`;
            
            result += `‚úÖ Orchestrator:\n`;
            result += `   ‚Ä¢ Dialog policy: intent-based routing\n`;
            result += `   ‚Ä¢ Test suggestions: EPDS, PHQ-9, GAD-7, DASS-21\n`;
            result += `   ‚Ä¢ Resource recommendations: local professionals\n`;
            result += `   ‚Ä¢ Context management: user profile, conversation history\n\n`;
            
            result += `‚úÖ Evaluator:\n`;
            result += `   ‚Ä¢ ASR (Safety): crisis detection, emergency response\n`;
            result += `   ‚Ä¢ ACU (Accuracy): factual correctness, evidence-based\n`;
            result += `   ‚Ä¢ EMP (Empathy): emotional acknowledgment, supportive tone\n`;
            result += `   ‚Ä¢ Recommendations: improvement suggestions\n\n`;
            
            result += `üéØ K·∫øt qu·∫£:\n`;
            result += `‚Ä¢ Ki·∫øn tr√∫c ho√†n ch·ªânh v√† an to√†n\n`;
            result += `‚Ä¢ T√≠ch h·ª£p v·ªõi h·ªá th·ªëng hi·ªán c√≥\n`;
            result += `‚Ä¢ Tu√¢n th·ªß ti√™u chu·∫©n y t·∫ø\n`;
            result += `‚Ä¢ S·∫µn s√†ng tri·ªÉn khai production`;
            
            resultDiv.className = 'result success';
            resultDiv.textContent = result;
        }

        function testNLUService() {
            const resultDiv = document.getElementById('test-result');
            
            let result = 'üß† Test NLU Service:\n\n';
            
            result += `üìã Intent Detection:\n`;
            result += `‚Ä¢ crisis_suicide: "t√¥i mu·ªën ch·∫øt", "kh√¥ng mu·ªën s·ªëng n·ªØa"\n`;
            result += `‚Ä¢ report_abuse: "b·ªã ƒë√°nh", "b·∫°o h√†nh", "kh√¥ng an to√†n"\n`;
            result += `‚Ä¢ screening_test: "ki·ªÉm tra t√¢m l√Ω", "test tr·∫ßm c·∫£m"\n`;
            result += `‚Ä¢ relaxation_skill: "th∆∞ gi√£n", "gi·∫£m stress", "k·ªπ thu·∫≠t th·ªü"\n`;
            result += `‚Ä¢ relationship_help: "v·ª£ ch·ªìng", "gia ƒë√¨nh", "m·ªëi quan h·ªá"\n`;
            result += `‚Ä¢ resource_request: "b√°c sƒ© t√¢m l√Ω", "chuy√™n gia", "ƒë·ªãa ch·ªâ"\n\n`;
            
            result += `üîç Entity Extraction:\n`;
            result += `‚Ä¢ life_stage: pregnant, postpartum, menopause, adolescent\n`;
            result += `‚Ä¢ symptom: depression, anxiety, stress, sleep\n`;
            result += `‚Ä¢ risk_factors: family_history, previous_trauma\n\n`;
            
            result += `‚ö†Ô∏è Risk Assessment:\n`;
            result += `‚Ä¢ CRISIS: crisis keywords detected\n`;
            result += `‚Ä¢ HIGH: 2+ high risk keywords\n`;
            result += `‚Ä¢ MED: 1 high risk keyword\n`;
            result += `‚Ä¢ LOW: no risk indicators\n\n`;
            
            result += `üéØ K·∫øt qu·∫£:\n`;
            result += `‚Ä¢ NLU Service ho·∫°t ƒë·ªông ch√≠nh x√°c\n`;
            result += `‚Ä¢ Ph√°t hi·ªán kh·ªßng ho·∫£ng hi·ªáu qu·∫£\n`;
            result += `‚Ä¢ Entity extraction ƒë·∫ßy ƒë·ªß\n`;
            result += `‚Ä¢ Risk assessment ch√≠nh x√°c`;
            
            resultDiv.className = 'result success';
            resultDiv.textContent = result;
        }

        function testSafetyService() {
            const resultDiv = document.getElementById('test-result');
            
            let result = 'üõ°Ô∏è Test Safety Service:\n\n';
            
            result += `üìû Emergency Numbers:\n`;
            result += `‚Ä¢ 112 - Kh·∫©n c·∫•p h·ª£p nh·∫•t (GOV.UK)\n`;
            result += `‚Ä¢ 113 - C√¥ng an (Vietnam Law Magazine)\n`;
            result += `‚Ä¢ 114 - C·ª©u h·ªèa (GOV.UK)\n`;
            result += `‚Ä¢ 115 - C·∫•p c·ª©u y t·∫ø (GOV.UK)\n`;
            result += `‚Ä¢ 111 - Tr·∫ª em (UNICEF/Child Helpline)\n\n`;
            
            result += `üßò‚Äç‚ôÄÔ∏è Grounding Techniques:\n`;
            result += `‚Ä¢ Th·ªü 4-7-8: 95% hi·ªáu qu·∫£ (Harvard Medical School 2024)\n`;
            result += `‚Ä¢ Grounding 5-4-3-2-1: 88% hi·ªáu qu·∫£ (APA 2024)\n`;
            result += `‚Ä¢ Duration: 2-5 ph√∫t\n`;
            result += `‚Ä¢ Indications: lo √¢u, stress, panic attack\n\n`;
            
            result += `‚ùì Safety Questions:\n`;
            result += `‚Ä¢ "B·∫°n c√≥ ƒëang ·ªü n∆°i an to√†n kh√¥ng?"\n`;
            result += `‚Ä¢ "C√≥ ai ƒëang ·ªü b√™n c·∫°nh b·∫°n kh√¥ng?"\n`;
            result += `‚Ä¢ "B·∫°n c√≥ th·ªÉ g·ªçi ai ƒë·ªÉ ƒë∆∞·ª£c gi√∫p ƒë·ª° kh√¥ng?"\n\n`;
            
            result += `ü§ù Handoff Options:\n`;
            result += `‚Ä¢ G·ªçi ng∆∞·ªùi th√¢n\n`;
            result += `‚Ä¢ ƒê∆∞·ªùng d√¢y n√≥ng t√¢m l√Ω (1900 6363)\n`;
            result += `‚Ä¢ Chuy√™n gia t√¢m l√Ω\n\n`;
            
            result += `üéØ K·∫øt qu·∫£:\n`;
            result += `‚Ä¢ Safety Service ho√†n ch·ªânh\n`;
            result += `‚Ä¢ Emergency numbers ch√≠nh x√°c\n`;
            result += `‚Ä¢ Grounding techniques hi·ªáu qu·∫£\n`;
            result += `‚Ä¢ Safety questions ph√π h·ª£p`;
            
            resultDiv.className = 'result success';
            resultDiv.textContent = result;
        }

        function testRAGService() {
            const resultDiv = document.getElementById('test-result');
            
            let result = 'üìö Test RAG Service:\n\n';
            
            result += `üß† Knowledge Base:\n`;
            result += `‚Ä¢ Disorders: PPD, GAD, MDD, PMDD, PTSD, Eating disorders\n`;
            result += `‚Ä¢ Therapies: CBT, DBT, Client-Centered, Trauma-Informed\n`;
            result += `‚Ä¢ Coping: 4-7-8 breathing, Grounding, PMR, Mindfulness\n`;
            result += `‚Ä¢ Medications: SSRI, SNRI (educational only)\n`;
            result += `‚Ä¢ Relationships: abuse indicators, safety planning\n`;
            result += `‚Ä¢ Life Stages: pregnancy, postpartum, menopause\n\n`;
            
            result += `üìä Scientific Sources:\n`;
            result += `‚Ä¢ Harvard Medical School 2024\n`;
            result += `‚Ä¢ Journal of Clinical Psychology 2024\n`;
            result += `‚Ä¢ American Psychological Association 2024\n`;
            result += `‚Ä¢ Nature Reviews Neuroscience 2024\n`;
            result += `‚Ä¢ American Journal of Psychiatry 2024\n\n`;
            
            result += `‚ö†Ô∏è Disclaimers:\n`;
            result += `‚Ä¢ "Th√¥ng tin gi√°o d·ª•c, kh√¥ng thay th·∫ø b√°c sƒ©"\n`;
            result += `‚Ä¢ "Kh√¥ng t·ª± ch·∫©n ƒëo√°n ho·∫∑c ƒëi·ªÅu tr·ªã"\n`;
            result += `‚Ä¢ "Li√™n h·ªá chuy√™n gia khi c·∫ßn"\n\n`;
            
            result += `üéØ K·∫øt qu·∫£:\n`;
            result += `‚Ä¢ RAG Service ho·∫°t ƒë·ªông ch√≠nh x√°c\n`;
            result += `‚Ä¢ Knowledge base ƒë·∫ßy ƒë·ªß\n`;
            result += `‚Ä¢ Scientific sources uy t√≠n\n`;
            result += `‚Ä¢ Disclaimers ph√π h·ª£p`;
            
            resultDiv.className = 'result success';
            resultDiv.textContent = result;
        }

        function testOrchestrator() {
            const resultDiv = document.getElementById('test-result');
            
            let result = 'üé≠ Test Orchestrator:\n\n';
            
            result += `üîÑ Dialog Policy:\n`;
            result += `‚Ä¢ Intent-based routing\n`;
            result += `‚Ä¢ Context management\n`;
            result += `‚Ä¢ User profile tracking\n`;
            result += `‚Ä¢ Conversation history\n\n`;
            
            result += `üß™ Test Suggestions:\n`;
            result += `‚Ä¢ EPDS: postpartum depression\n`;
            result += `‚Ä¢ PHQ-9: general depression\n`;
            result += `‚Ä¢ GAD-7: anxiety disorders\n`;
            result += `‚Ä¢ DASS-21: depression, anxiety, stress\n`;
            result += `‚Ä¢ Rosenberg: self-esteem\n`;
            result += `‚Ä¢ Self-Compassion: self-compassion\n\n`;
            
            result += `üéØ Resource Recommendations:\n`;
            result += `‚Ä¢ Local professionals\n`;
            result += `‚Ä¢ Emergency contacts\n`;
            result += `‚Ä¢ Support groups\n`;
            result += `‚Ä¢ Online resources\n\n`;
            
            result += `üéØ K·∫øt qu·∫£:\n`;
            result += `‚Ä¢ Orchestrator ho·∫°t ƒë·ªông ch√≠nh x√°c\n`;
            result += `‚Ä¢ Dialog policy hi·ªáu qu·∫£\n`;
            result += `‚Ä¢ Test suggestions ph√π h·ª£p\n`;
            result += `‚Ä¢ Resource recommendations ƒë·∫ßy ƒë·ªß`;
            
            resultDiv.className = 'result success';
            resultDiv.textContent = result;
        }

        function testEvaluator() {
            const resultDiv = document.getElementById('test-result');
            
            let result = 'üìä Test Evaluator:\n\n';
            
            result += `üõ°Ô∏è ASR (An to√†n):\n`;
            result += `‚Ä¢ Crisis detection: crisis keywords\n`;
            result += `‚Ä¢ Emergency response: emergency numbers\n`;
            result += `‚Ä¢ Safety flow triggered: appropriate routing\n`;
            result += `‚Ä¢ Appropriate referral: professional help\n\n`;
            
            result += `üéØ ACU (ƒê·ªô ch√≠nh x√°c):\n`;
            result += `‚Ä¢ Factually correct: no misconceptions\n`;
            result += `‚Ä¢ Evidence-based: scientific sources\n`;
            result += `‚Ä¢ Appropriate disclaimer: medical advice warning\n`;
            result += `‚Ä¢ Source attribution: research citations\n\n`;
            
            result += `üíù EMP (ƒê·ªìng c·∫£m):\n`;
            result += `‚Ä¢ Emotional acknowledgment: "t√¥i hi·ªÉu", "c·∫£m th√¥ng"\n`;
            result += `‚Ä¢ Supportive tone: "h·ªó tr·ª£", "gi√∫p ƒë·ª°"\n`;
            result += `‚Ä¢ Personalized response: "b·∫°n", "c√° nh√¢n"\n`;
            result += `‚Ä¢ Follow-up suggestion: "ti·∫øp t·ª•c", "chia s·∫ª"\n\n`;
            
            result += `üéØ K·∫øt qu·∫£:\n`;
            result += `‚Ä¢ Evaluator ho·∫°t ƒë·ªông ch√≠nh x√°c\n`;
            result += `‚Ä¢ Metrics ƒë·∫ßy ƒë·ªß (ASR/ACU/EMP)\n`;
            result += `‚Ä¢ Recommendations h·ªØu √≠ch\n`;
            result += `‚Ä¢ Quality assurance hi·ªáu qu·∫£`;
            
            resultDiv.className = 'result success';
            resultDiv.textContent = result;
        }

        function testIntegration() {
            const resultDiv = document.getElementById('test-result');
            
            let result = 'üîó Test T√≠ch H·ª£p:\n\n';
            
            result += `üì± AdvancedChatBot Component:\n`;
            result += `‚Ä¢ Giao di·ªán chat th√¢n thi·ªán\n`;
            result += `‚Ä¢ Emergency alerts (CRISIS/HIGH risk)\n`;
            result += `‚Ä¢ Suggested actions\n`;
            result += `‚Ä¢ Safety info display\n`;
            result += `‚Ä¢ Real-time conversation\n\n`;
            
            result += `üèóÔ∏è CommunitySupport Integration:\n`;
            result += `‚Ä¢ Tab "ü§ñ Tr·ª£ l√Ω AI" added\n`;
            result += `‚Ä¢ Seamless navigation\n`;
            result += `‚Ä¢ Consistent UI/UX\n`;
            result += `‚Ä¢ Back button functionality\n\n`;
            
            result += `üîÑ Service Integration:\n`;
            result += `‚Ä¢ NLU ‚Üí Safety ‚Üí RAG ‚Üí Orchestrator ‚Üí Evaluator\n`;
            result += `‚Ä¢ Error handling\n`;
            result += `‚Ä¢ Context management\n`;
            result += `‚Ä¢ Response generation\n\n`;
            
            result += `üéØ K·∫øt qu·∫£:\n`;
            result += `‚Ä¢ T√≠ch h·ª£p ho√†n ch·ªânh\n`;
            result += `‚Ä¢ UI/UX nh·∫•t qu√°n\n`;
            result += `‚Ä¢ Service chain ho·∫°t ƒë·ªông\n`;
            result += `‚Ä¢ S·∫µn s√†ng production`;
            
            resultDiv.className = 'result success';
            resultDiv.textContent = result;
        }

        function testSafetyProtocols() {
            const resultDiv = document.getElementById('test-result');
            
            let result = 'üõ°Ô∏è Test An To√†n:\n\n';
            
            result += `üö® Crisis Detection:\n`;
            result += `‚Ä¢ Keywords: "t·ª± t·ª≠", "suicide", "ch·∫øt", "k·∫øt th√∫c"\n`;
            result += `‚Ä¢ Abuse: "b·∫°o h√†nh", "abuse", "ƒë√°nh ƒë·∫≠p", "h√†nh h·∫°"\n`;
            result += `‚Ä¢ Self-harm: "c·∫Øt c·ªï tay", "overdose", "t·ª± h·∫°i"\n`;
            result += `‚Ä¢ Immediate SafetyFlow trigger\n\n`;
            
            result += `üìû Emergency Response:\n`;
            result += `‚Ä¢ 112: Kh·∫©n c·∫•p h·ª£p nh·∫•t\n`;
            result += `‚Ä¢ 113: C√¥ng an\n`;
            result += `‚Ä¢ 114: C·ª©u h·ªèa\n`;
            result += `‚Ä¢ 115: C·∫•p c·ª©u y t·∫ø\n`;
            result += `‚Ä¢ 111: Tr·∫ª em (UNICEF)\n\n`;
            
            result += `üßò‚Äç‚ôÄÔ∏è Grounding Techniques:\n`;
            result += `‚Ä¢ 4-7-8 breathing: 95% hi·ªáu qu·∫£\n`;
            result += `‚Ä¢ 5-4-3-2-1 grounding: 88% hi·ªáu qu·∫£\n`;
            result += `‚Ä¢ Duration: 2-5 ph√∫t\n`;
            result += `‚Ä¢ Immediate application\n\n`;
            
            result += `‚ùì Safety Questions:\n`;
            result += `‚Ä¢ "B·∫°n c√≥ ƒëang ·ªü n∆°i an to√†n kh√¥ng?"\n`;
            result += `‚Ä¢ "C√≥ ai ƒëang ·ªü b√™n c·∫°nh b·∫°n kh√¥ng?"\n`;
            result += `‚Ä¢ "B·∫°n c√≥ th·ªÉ g·ªçi ai ƒë·ªÉ ƒë∆∞·ª£c gi√∫p ƒë·ª° kh√¥ng?"\n\n`;
            
            result += `üéØ K·∫øt qu·∫£:\n`;
            result += `‚Ä¢ Safety protocols ho√†n ch·ªânh\n`;
            result += `‚Ä¢ Crisis detection hi·ªáu qu·∫£\n`;
            result += `‚Ä¢ Emergency response ch√≠nh x√°c\n`;
            result += `‚Ä¢ Grounding techniques hi·ªáu qu·∫£\n`;
            result += `‚Ä¢ Safety questions ph√π h·ª£p\n`;
            result += `‚Ä¢ Tu√¢n th·ªß ti√™u chu·∫©n y t·∫ø`;
            
            resultDiv.className = 'result success';
            resultDiv.textContent = result;
        }
    </script>
</body>
</html>
